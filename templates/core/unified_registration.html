{% extends 'base.html' %}
{% load static %}

{% block title %}Create Account - Food Ordering System{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl w-full space-y-8">
        <!-- Header with Modern Design -->
        <div class="text-center">
            <div class="mx-auto h-20 w-20 bg-gradient-to-br from-rose-500 to-orange-500 rounded-2xl flex items-center justify-center mb-6 shadow-xl transform hover:scale-105 transition-all duration-300">
                <span class="text-4xl">üçΩÔ∏è</span>
            </div>
            <h2 class="text-4xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent mb-3">
                Create your account
            </h2>
            <p class="text-lg text-gray-600">Join our food ordering community and discover amazing restaurants</p>
            <div class="mt-4 flex items-center justify-center space-x-2">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    Free to join
                </span>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                    </svg>
                    Email verified
                </span>
            </div>
        </div>

        <!-- User Type Selection with Enhanced Cards -->
        <div class="mb-8">
            <h3 class="text-xl font-semibold text-gray-900 mb-6 text-center">I want to join as:</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <label class="cursor-pointer group">
                    <input type="radio" name="user_type" value="customer" checked class="sr-only" onchange="toggleUserType('customer')">
                    <div id="customerRadio" class="relative p-6 border-2 border-rose-500 bg-gradient-to-br from-rose-50 to-pink-50 rounded-2xl text-center transition-all duration-300 shadow-xl transform scale-105 hover:shadow-2xl">
                        <div class="absolute top-3 right-3" id="customerCheck">
                            <div class="h-6 w-6 bg-rose-500 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="mx-auto h-16 w-16 bg-gradient-to-br from-rose-500 to-pink-500 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-all duration-300">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                        </div>
                        <h4 class="text-lg font-bold text-rose-700 mb-2">Customer</h4>
                        <p class="text-sm text-gray-600">Order food from your favorite restaurants</p>
                    </div>
                </label>
                
                <label class="cursor-pointer group">
                    <input type="radio" name="user_type" value="restaurant" class="sr-only" onchange="toggleUserType('restaurant')">
                    <div id="restaurantRadio" class="relative p-6 border-2 border-gray-200 bg-white rounded-2xl text-center transition-all duration-300 shadow-lg hover:shadow-2xl hover:border-orange-300 hover:bg-orange-50">
                        <div class="absolute top-3 right-3 opacity-0 transition-opacity duration-300" id="restaurantCheck">
                            <div class="h-6 w-6 bg-orange-500 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="mx-auto h-16 w-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-all duration-300">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                            </svg>
                        </div>
                        <h4 class="text-lg font-bold text-gray-700 mb-2 group-hover:text-orange-700">Restaurant Owner</h4>
                        <p class="text-sm text-gray-600">Register and manage your restaurant</p>
                    </div>
                </label>
            </div>
        </div>

        <!-- Forms Container with Modern Card Design -->
        
        <!-- Information Section for Customer -->
        <div id="customerInfo" class="bg-gradient-to-r from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-2xl p-6 mb-6 shadow-lg">
            <div class="flex items-start space-x-4">
                <svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                </svg>
                <div class="text-sm text-blue-800">
                    <p class="font-semibold mb-1">Customer Registration</p>
                    <p>Register as a customer to start ordering delicious food from your favorite restaurants.</p>
                </div>
            </div>
        </div>
        
        <!-- Information Section for Restaurant -->
        <div id="restaurantInfo" class="bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 rounded-2xl p-6 mb-6 shadow-lg" style="display: none;">
            <div class="flex items-start space-x-4">
                <svg class="w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                </svg>
                <div class="text-sm text-orange-800">
                    <p class="font-semibold mb-1">üç¥ Restaurant Owner Registration</p>
                    <p>Register your restaurant and start reaching thousands of hungry customers. Your restaurant will be reviewed by our team before going live.</p>
                </div>
            </div>
        </div>

        <!-- Customer Registration Form -->
        <div id="customerRegistrationForm" class="bg-white rounded-3xl shadow-2xl border border-gray-200 p-8 md:p-10" style="display: block;">
            <!-- Django Messages Display -->
            {% if messages %}
            <div class="mb-6 space-y-3">
                {% for message in messages %}
                <div class="p-4 rounded-xl {% if message.tags == 'error' %}bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 text-red-700{% elif message.tags == 'success' %}bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 text-green-700{% else %}bg-gradient-to-r from-blue-50 to-cyan-50 border-2 border-blue-200 text-blue-700{% endif %} shadow-md">
                    <div class="flex items-center">
                        {% if message.tags == 'error' %}
                        <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                        </svg>
                        {% elif message.tags == 'success' %}
                        <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        {% else %}
                        <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        {% endif %}
                        <span class="font-medium">{{ message }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}
            
            <form method="post" id="registrationForm" novalidate>
                {% csrf_token %}
                
                <!-- Username Field -->
                <div class="mb-6">
                    <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Username
                    </label>
                    {{ form.username }}
                    {% if form.username.errors %}
                    <div class="mt-2 text-sm text-red-600">
                        {% for error in form.username.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">Choose a unique username for your account</p>
                </div>

                <!-- Email Field -->
                <div class="mb-6">
                    <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Email address
                    </label>
                    {{ form.email }}
                    {% if form.email.errors %}
                    <div class="mt-2 text-sm text-red-600">
                        {% for error in form.email.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">We'll use this for account verification</p>
                </div>

                <!-- Full Name Field -->
                <div class="mb-6">
                    <label for="{{ form.full_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Full Name
                    </label>
                    {{ form.full_name }}
                    {% if form.full_name.errors %}
                    <div class="mt-2 text-sm text-red-600">
                        {% for error in form.full_name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">{{ form.full_name.help_text }}</p>
                </div>

                <!-- Phone Number Field -->
                <div class="mb-6">
                    <label for="{{ form.phone_number.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Phone Number
                    </label>
                    {{ form.phone_number }}
                    {% if form.phone_number.errors %}
                    <div class="mt-2 text-sm text-red-600">
                        {% for error in form.phone_number.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">{{ form.phone_number.help_text }}</p>
                </div>

                <!-- Password Field -->
                <div class="mb-6">
                    <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Password
                    </label>
                    <div class="relative">
                        {{ form.password }}
                        <button type="button" onclick="togglePassword('password')" class="absolute right-3 top-3.5 text-gray-400 hover:text-gray-600">
                            <svg id="password-eye" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                            </svg>
                        </button>
                    </div>
                    {% if form.password.errors %}
                    <div class="mt-2 text-sm text-red-600">
                        {% for error in form.password.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">At least 8 characters with letters and numbers</p>
                </div>

                <!-- Password Confirmation -->
                <div class="mb-6">
                    <label for="{{ form.password_confirm.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Confirm password
                    </label>
                    <div class="relative">
                        {{ form.password_confirm }}
                        <button type="button" onclick="togglePassword('password_confirm')" class="absolute right-3 top-3.5 text-gray-400 hover:text-gray-600">
                            <svg id="password_confirm-eye" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                            </svg>
                        </button>
                    </div>
                    {% if form.password_confirm.errors %}
                    <div class="mt-2 text-sm text-red-600">
                        {% for error in form.password_confirm.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">Re-enter your password to confirm</p>
                </div>

               
                 <!-- Submit Button -->
                <button type="submit" 
                        class="w-full bg-rose-500 hover:bg-rose-600 text-white font-medium py-3 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2">
                    Create customer account
                </button>

                <!-- Non-field errors -->
                {% if form.non_field_errors %}
                <div class="mt-4 p-3 bg-red-50 border border-red-200 rounded-lg">
                    <div class="text-sm text-red-600">
                        {% for error in form.non_field_errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </form>
        </div>

        <!-- Restaurant Registration Section -->
        <div id="restaurantRegistrationForm" class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8" style="display: none;">
            <!-- Django Messages Display -->
            {% if messages %}
            <div class="mb-6">
                {% for message in messages %}
                <div class="p-4 rounded-lg {% if message.tags == 'error' %}bg-red-50 border border-red-200 text-red-700{% elif message.tags == 'success' %}bg-green-50 border border-green-200 text-green-700{% else %}bg-orange-50 border border-orange-200 text-orange-700{% endif %}">
                    <div class="flex items-center">
                        {% if message.tags == 'error' %}
                        <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                        </svg>
                        {% elif message.tags == 'success' %}
                        <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        {% else %}
                        <svg class="w-5 h-5 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        {% endif %}
                        <span class="font-medium">{{ message }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <!-- Restaurant Registration Info & Redirect -->
            <div class="text-center">
                <div class="mb-6">
                    <div class="mx-auto h-16 w-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">üçΩÔ∏è Restaurant Registration</h3>
                    <p class="text-gray-600 mb-6">
                        Register your restaurant through our guided multi-step process. 
                        We'll help you set up your restaurant profile, menu, and start receiving orders.
                    </p>
                </div>

                <!-- Features List -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-left">
                    <div class="bg-orange-50 p-4 rounded-lg">
                        <div class="flex items-center mb-2">
                            <svg class="w-5 h-5 text-orange-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="font-medium text-orange-800">Step-by-Step Guide</span>
                        </div>
                        <p class="text-sm text-orange-700">Easy 5-step registration process</p>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <div class="flex items-center mb-2">
                            <svg class="w-5 h-5 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="font-medium text-blue-800">Quick Review</span>
                        </div>
                        <p class="text-sm text-blue-700">Fast approval process (24-48 hours)</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <div class="flex items-center mb-2">
                            <svg class="w-5 h-5 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="font-medium text-green-800">Start Selling</span>
                        </div>
                        <p class="text-sm text-green-700">Begin receiving customer orders</p>
                    </div>
                </div>

                <!-- Start Registration Button -->
                <a href="{% url 'restaurant:registration_wizard' %}" 
                   class="w-full inline-flex items-center justify-center bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium py-4 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transform hover:scale-105 shadow-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    Start Restaurant Registration
                </a>

                <p class="text-sm text-gray-500 mt-4">
                    Already have an account? <a href="{% url 'core:login' %}" class="text-orange-600 hover:text-orange-800">Sign in here</a>
                </p>
            </div>
        </div>

    </div>
</div>

<!-- JavaScript for user type toggle -->
<script>
function toggleUserType(userType) {
    const customerForm = document.getElementById('customerRegistrationForm');
    const restaurantForm = document.getElementById('restaurantRegistrationForm');
    const customerInfo = document.getElementById('customerInfo');
    const restaurantInfo = document.getElementById('restaurantInfo');
    const customerRadio = document.getElementById('customerRadio');
    const restaurantRadio = document.getElementById('restaurantRadio');
    const customerCheck = document.getElementById('customerCheck');
    const restaurantCheck = document.getElementById('restaurantCheck');

    if (userType === 'customer') {
        customerForm.style.display = 'block';
        restaurantForm.style.display = 'none';
        customerInfo.style.display = 'block';
        restaurantInfo.style.display = 'none';
        
        // Update radio button styles
        customerRadio.classList.add('border-rose-500', 'bg-gradient-to-br', 'from-rose-50', 'to-pink-50', 'shadow-xl', 'transform', 'scale-105');
        customerRadio.classList.remove('border-gray-200', 'bg-white');
        restaurantRadio.classList.add('border-gray-200', 'bg-white');
        restaurantRadio.classList.remove('border-orange-300', 'bg-orange-50', 'shadow-xl', 'transform', 'scale-105');
        
        customerCheck.classList.remove('opacity-0');
        customerCheck.classList.add('opacity-100');
        restaurantCheck.classList.add('opacity-0');
        restaurantCheck.classList.remove('opacity-100');
    } else {
        customerForm.style.display = 'none';
        restaurantForm.style.display = 'block';
        customerInfo.style.display = 'none';
        restaurantInfo.style.display = 'block';
        
        // Update radio button styles
        restaurantRadio.classList.add('border-orange-300', 'bg-orange-50', 'shadow-xl', 'transform', 'scale-105');
        restaurantRadio.classList.remove('border-gray-200', 'bg-white');
        customerRadio.classList.add('border-gray-200', 'bg-white');
        customerRadio.classList.remove('border-rose-500', 'bg-gradient-to-br', 'from-rose-50', 'to-pink-50', 'shadow-xl', 'transform', 'scale-105');
        
        restaurantCheck.classList.remove('opacity-0');
        restaurantCheck.classList.add('opacity-100');
        customerCheck.classList.add('opacity-0');
        customerCheck.classList.remove('opacity-100');
    }
}

// Password visibility toggle
function togglePassword(fieldId) {
    const passwordField = document.getElementById('id_customer-' + fieldId);
    const eyeIcon = document.getElementById(fieldId + '-eye');
    
    if (passwordField.type === 'password') {
        passwordField.type = 'text';
        eyeIcon.innerHTML = `
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path>
        `;
    } else {
        passwordField.type = 'password';
        eyeIcon.innerHTML = `
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
        `;
    }
}
</script>

<style>
/* Custom styles for form validation */
.border-green-300 {
    border-color: #86efac !important;
}

.border-red-300 {
    border-color: #fca5a5 !important;
}

/* Link hover effects */
a {
    transition: color 0.2s ease-in-out;
}
</style>
{% endblock %}
